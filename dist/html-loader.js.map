{"version":3,"sources":["webpack:///html-loader.js","webpack:///webpack/bootstrap 1898be82cd98d83373f0","webpack:///./index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","Object","defineProperty","value","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","pages","default","_ref","key","templateUrl","css","js","hashname","Promise","resolve","reject","_pages$hashname","html","state","data","promises","fetch","url","style","script","all","then","_data","response","parseHtml","_ref2","method","xhr","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","send","placeholder","document","createElement","innerHTML","_ref3","onload","src","head","appendChild","_ref4","rel","href"],"mappings":"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","file":"html-loader.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar pages = {};\n\t\n\texports.default = function (_ref) {\n\t\tvar key = _ref.key,\n\t\t    templateUrl = _ref.templateUrl,\n\t\t    css = _ref.css,\n\t\t    js = _ref.js;\n\t\n\t\n\t\tvar hashname = key || templateUrl;\n\t\n\t\tif (hashname in pages) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar _pages$hashname = pages[hashname],\n\t\t\t\t    js = _pages$hashname.js,\n\t\t\t\t    css = _pages$hashname.css,\n\t\t\t\t    html = _pages$hashname.html;\n\t\n\t\t\t\tresolve({ state: 'change', data: { js: js, css: css, html: html } });\n\t\t\t});\n\t\t} else {\n\t\n\t\t\tvar promises = [];\n\t\t\tpromises.push(fetch({ url: templateUrl }));\n\t\n\t\t\tif (css) promises.push(style({ url: css }));\n\t\t\tif (js) promises.push(script({ url: js }));\n\t\n\t\t\treturn Promise.all(promises).then(function (data) {\n\t\t\t\tvar _data = _slicedToArray(data, 3),\n\t\t\t\t    html = _data[0],\n\t\t\t\t    css = _data[1],\n\t\t\t\t    js = _data[2];\n\t\n\t\t\t\tvar response = { js: js, css: css, html: parseHtml(html) };\n\t\t\t\tpages[hashname] = response;\n\t\t\t\treturn { state: 'load', data: response };\n\t\t\t});\n\t\t}\n\t};\n\t\n\tvar fetch = function fetch(_ref2) {\n\t\tvar method = _ref2.method,\n\t\t    url = _ref2.url;\n\t\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tvar xhr = new XMLHttpRequest();\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) if (xhr.status == 200) resolve(xhr.responseText);else reject(xhr);\n\t\t\t};\n\t\t\txhr.open(method || 'get', url);\n\t\t\txhr.send(null);\n\t\t});\n\t};\n\t\n\tvar parseHtml = function parseHtml(html) {\n\t\tvar placeholder = document.createElement('div');\n\t\tplaceholder.innerHTML = html;\n\t\treturn placeholder;\n\t};\n\t\n\tvar script = function script(_ref3) {\n\t\tvar url = _ref3.url;\n\t\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tvar js = document.createElement('script');\n\t\t\tjs.onload = function () {\n\t\t\t\treturn resolve(js);\n\t\t\t};\n\t\t\tjs.src = url;\n\t\t\tdocument.head.appendChild(js);\n\t\t});\n\t};\n\t\n\tvar style = function style(_ref4) {\n\t\tvar url = _ref4.url;\n\t\n\t\treturn new Promise(function (resolve, reject) {\n\t\t\tvar css = document.createElement('link');\n\t\t\tcss.rel = 'stylesheet';\n\t\t\tcss.href = url;\n\t\t\tdocument.head.appendChild(css);\n\t\t\tresolve(css);\n\t\t});\n\t};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// html-loader.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1898be82cd98d83373f0","const pages = {}\n\nexport default ( {key, templateUrl, css, js} )=>{\n\n\tlet hashname = key || templateUrl\n\n\tif( hashname in pages ){\n\t\treturn new Promise( (resolve, reject) =>{\n\t\t\tconst { js, css, html } = pages[ hashname ]\n\t\t\tresolve({ state :'change', data :{ js, css, html } })\n\t\t})\n\t}else{\n\n\t\tlet promises = []\n\t\tpromises.push( fetch({ url :templateUrl }) )\n\n\t\tif( css )\n\t\t\tpromises.push( style( {url:css} ) )\n\t\tif( js )\n\t\t\tpromises.push( script( {url:js}) )\n\n\t\treturn Promise.all( promises )\n\t\t\t.then( data =>{\n\t\t\t\tlet [ html, css, js ] = data\n\t\t\t\tlet response = { js, css, html :parseHtml( html ) }\n\t\t\t\tpages[hashname] = response\n\t\t\t\treturn { state :'load', data :response }\n\t\t\t})\n\t}\n}\n\nconst fetch = ({ method, url })=>{\n\treturn new Promise((resolve, reject)=>{\n\t\tlet xhr = new XMLHttpRequest()\n\t\txhr.onreadystatechange = ()=>{\n\t\t\tif( xhr.readyState == 4 )\n\t\t\t\tif( xhr.status == 200) resolve( xhr.responseText )\n\t\t\t\telse reject( xhr )\n\t\t}\n\t\txhr.open( method || 'get', url)\n\t\txhr.send(null)\n\t})\n}\n\nconst parseHtml = html =>{\n\tlet placeholder = document.createElement('div')\n\tplaceholder.innerHTML = html\n\treturn placeholder\n}\n\nconst script = ( {url} )=>{\n\treturn new Promise(( resolve, reject )=>{\n\t\tlet js = document.createElement('script')\n\t\tjs.onload = ()=> resolve( js )\n\t\tjs.src = url\n\t\tdocument.head.appendChild( js )\n\t})\n}\n\nconst style = ( {url} )=>{\n\treturn new Promise(( resolve, reject )=>{\n\t\tlet css = document.createElement('link')\n\t\tcss.rel = 'stylesheet'\n\t\tcss.href = url\n\t\tdocument.head.appendChild( css )\n\t\tresolve( css )\n\t})\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}